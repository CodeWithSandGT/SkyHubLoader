local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/main/source')))()
local Window = OrionLib:MakeWindow({
    Name = "SkyHub",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "SkyHubConfig",
    IntroText = "SkyHub"
})

local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Flag untuk kontrol loop
local autoSummitRunning = false
local autoSummitThread

MainTab:AddButton({
    Name = "Start Auto Summit",
    Callback = function()
        local function isSafeEnvironment()
            local player = game:GetService("Players").LocalPlayer
            if not player or not player:IsDescendantOf(game) then
                return false
            end
            if identifyexecutor then
                local ex = identifyexecutor()
                if ex and string.find(ex:lower(), "krnl") or string.find(ex:lower(), "vega") then
                    warn("⚠️ Detected known public exploit: " .. ex)
                end
            end
            return true
        end

        local infinite_cash do
            if isSafeEnvironment() then
                local args = -math.random(1e6, 1e9)
                local success, err = pcall(function()
                    game:GetService('ReplicatedStorage').Purchase_Crate:FireServer(args)
                end)
                if success then
                    print("[✔] Infinite money executed safely.")
                else
                    warn("[✘] Error during infinite money:", err)
                end
            else
                warn("Environment not safe. Aborting infinite money script.")
            end
        end
    end
})

-- TEXTBOX untuk input jumlah cash custom
MainTab:AddTextbox({
    Name = "Add Custom Cash",
    Default = "1000000",
    TextDisappear = true,
    Callback = function(Value)
        local amount = tonumber(Value)
        if amount then
            local negativeAmount = -math.abs(amount)
            local success, err = pcall(function()
                game:GetService("ReplicatedStorage").Purchase_Crate:FireServer(negativeAmount)
            end)
            if success then
                OrionLib:MakeNotification({
                    Name = "Success",
                    Content = "Injected: R$" .. tostring(negativeAmount),
                    Image = "rbxassetid://4483345998",
                    Time = 5
                })
            else
                warn("Failed to send custom cash:", err)
            end
        else
            warn("Invalid input: Not a number")
            OrionLib:MakeNotification({
                Name = "Error",
                Content = "Masukkan angka valid!",
                Image = "rbxassetid://4483345998",
                Time = 5
            })
        end
    end
})

local CreditTab = Window:MakeTab({
    Name = "Credit",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

CreditTab:AddLabel("Join our Discord: https://dsc.gg/skyhubs")
CreditTab:AddLabel("Youtube: https://youtube.com/@skyhubcommunitys")

-- Notifikasi setiap 1 menit
task.spawn(function()
    while true do
        OrionLib:MakeNotification({
            Name = "Support Us!",
            Content = "Join Discord & Subscribe YouTube:\nCheck the Credit tab!",
            Image = "rbxassetid://4483345998",
            Time = 5
        })
        task.wait(60)
    end
end)
